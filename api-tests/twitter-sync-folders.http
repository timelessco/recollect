### Create Twitter Folders (Success - Single Category)
# New App Router endpoint: /api/twitter/sync-folders
# Response: { data: { created: N, skipped: N }, error: null }
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": [
    {
      "name": "Tech Tweets"
    }
  ]
}

### Create Multiple Twitter Folders (Success)
# Deduplicates case-insensitively and skips existing categories
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": [
    {
      "name": "Tech Tweets"
    },
    {
      "name": "Design Inspiration"
    },
    {
      "name": "Productivity Tips"
    }
  ]
}

### Duplicate Category Names in Same Request (case-insensitive Dedup)
# "tech tweets" and "Tech Tweets" collapse to one - first wins
# Expected: { data: { created: 1, skipped: 1 }, error: null } (if "Tech Tweets" is new)
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": [
    {
      "name": "Unique Category"
    },
    {
      "name": "unique category"
    }
  ]
}

### Create Category with Special Characters
# Tests slugify handling of special characters
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": [
    {
      "name": "Design & UX Tips!"
    },
    {
      "name": "AI/ML Resources"
    },
    {
      "name": "Product Updates (2024)"
    }
  ]
}

### Create Category with Unicode Characters
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": [
    {
      "name": "üöÄ Tech Updates"
    },
    {
      "name": "ËÆæËÆ°ÁÅµÊÑü"
    }
  ]
}

### Validation Error - Empty Categories Array
# Expected: 400 - Zod validation error
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": []
}

### Validation Error - Missing Categories Field
# Expected: 400 - Zod validation error
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{}

### Validation Error - Empty Category Name
# Expected: 400 - name min length 1
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "categories": [
    {
      "name": ""
    }
  ]
}

### Auth Error - No Token
# Expected: 401 - Not authenticated
POST {{$dotenv API_BASE_URL}}/twitter/sync-folders
Content-Type: application/json

{
  "categories": [
    {
      "name": "No Auth Test"
    }
  ]
}
