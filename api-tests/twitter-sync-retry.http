### Retry Specific Failed Imports (by msg_id)
# Re-queues archived messages for another processing attempt
# Returns: { data: { requeued: N, requested: N }, error: null }
# - requeued: number actually re-queued (may be less if msg_ids don't exist)
# - requested: number of msg_ids requested
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "msg_ids": [1, 2, 3]
}

### Retry Single Message
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "msg_ids": [1]
}

### Retry All Archived Imports
# Re-queues ALL archived messages for the authenticated user
# Returns: { data: { requeued: N }, error: null }
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "all": true
}

### Validation Error - Empty msg_ids Array
# Expected: 400 - msg_ids must have at least 1 item
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "msg_ids": []
}

### Validation Error - Empty Object
# Expected: 400 - Must provide either msg_ids or all:true
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{}

### Validation Error - Invalid msg_ids Type
# Expected: 400 - msg_ids must be array of numbers
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Authorization: Bearer {{$dotenv USER_TOKEN}}
Content-Type: application/json

{
  "msg_ids": ["abc", "def"]
}

### Auth Error - No Token
# Expected: 401 - Not authenticated
POST {{$dotenv API_BASE_URL}}/twitter/sync/retry
Content-Type: application/json

{
  "msg_ids": [1]
}
